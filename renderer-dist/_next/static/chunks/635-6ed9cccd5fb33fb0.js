"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{8249:function(e,t,i){i.d(t,{Z:function(){return n}});var o=i(4246),r=i(7378);function n(e){let{onSetupComplete:t}=e,[i,n]=(0,r.useState)("gemini"),[a,s]=(0,r.useState)(""),[l,d]=(0,r.useState)(!1),[p,c]=(0,r.useState)(""),x=async()=>{if(console.log("handleSave called"),console.log("electronAPI available:",!!window.electronAPI),!a.trim()){c("Please enter an API key");return}if(a.length<10){c("API key seems too short");return}d(!0),c("");try{console.log("Calling setApiKey with:",i,a.substring(0,10)+"..."),await window.electronAPI.setApiKey(i,a),console.log("setApiKey successful, calling onSetupComplete"),t()}catch(e){console.error("Error saving API key:",e),c("Failed to save API key: ".concat((null==e?void 0:e.message)||e))}finally{d(!1)}},g=(()=>{switch(i){case"gemini":return{title:"Google Gemini API",steps:["1. Go to Google AI Studio (https://makersuite.google.com/app/apikey)","2. Sign in with your Google account",'3. Click "Create API Key"',"4. Copy the generated API key","5. Paste it below"],placeholder:"AIzaSy...",note:"Free tier: 15 requests/minute, 1500 requests/day"};case"openai":return{title:"OpenAI API",steps:["1. Go to OpenAI Platform (https://platform.openai.com/api-keys)","2. Sign in to your OpenAI account",'3. Click "Create new secret key"',"4. Copy the generated API key","5. Paste it below"],placeholder:"sk-...",note:"Pay-per-use: ~$0.002 per request"};case"anthropic":return{title:"Anthropic Claude API",steps:["1. Go to Anthropic Console (https://console.anthropic.com/)","2. Sign in to your Anthropic account","3. Navigate to API Keys","4. Create a new API key","5. Copy and paste it below"],placeholder:"sk-ant-...",note:"Pay-per-use: ~$0.003 per request"}}})();return(0,o.jsxs)("div",{style:{padding:"32px",maxWidth:"600px",margin:"0 auto",color:"white",fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,o.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,o.jsx)("h1",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"\uD83D\uDE80 Welcome to Smart Dating Assistant"}),(0,o.jsx)("p",{style:{fontSize:"16px",opacity:.8,lineHeight:"1.5"},children:"To get started, you'll need an AI API key. Don't worry, it's free and takes 2 minutes!"})]}),(0,o.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,o.jsx)("h3",{style:{fontSize:"16px",fontWeight:"500",marginBottom:"12px"},children:"Choose your AI provider:"}),(0,o.jsx)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["gemini","openai","anthropic"].map(e=>(0,o.jsx)("button",{onClick:()=>n(e),style:{background:i===e?"rgba(59, 130, 246, 0.5)":"rgba(255, 255, 255, 0.1)",border:"1px solid ".concat(i===e?"#3b82f6":"rgba(255, 255, 255, 0.2)"),color:"white",padding:"12px 16px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",textTransform:"capitalize",fontWeight:i===e?"500":"400"},children:"gemini"===e?"\uD83D\uDFE2 Gemini (Recommended)":"openai"===e?"\uD83D\uDD34 OpenAI":"\uD83D\uDFE3 Claude"},e))})]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"20px",marginBottom:"24px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,o.jsx)("h4",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"12px",color:"#60a5fa"},children:g.title}),(0,o.jsx)("div",{style:{marginBottom:"16px"},children:g.steps.map((e,t)=>(0,o.jsx)("div",{style:{fontSize:"13px",lineHeight:"1.4",marginBottom:"4px",opacity:.9},children:e},t))}),(0,o.jsxs)("div",{style:{fontSize:"12px",opacity:.7,fontStyle:"italic",padding:"8px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px"},children:["\uD83D\uDCA1 ",g.note]})]}),(0,o.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,o.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:["Enter your ",g.title," key:"]}),(0,o.jsx)("input",{type:"password",value:a,onChange:e=>s(e.target.value),placeholder:g.placeholder,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"14px",fontFamily:"monospace"}})]}),p&&(0,o.jsx)("div",{style:{background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"6px",padding:"12px",marginBottom:"16px",fontSize:"14px",color:"#fca5a5"},children:p}),(0,o.jsx)("div",{style:{display:"flex",gap:"12px"},children:(0,o.jsx)("button",{onClick:x,disabled:l||!a.trim(),style:{flex:1,background:l?"rgba(107, 114, 128, 0.5)":"#3b82f6",border:"none",color:"white",padding:"14px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:l?"not-allowed":"pointer",opacity:l||!a.trim()?.6:1},children:l?"Saving...":"\uD83D\uDE80 Start Using Smart Dating Assistant"})}),(0,o.jsxs)("div",{style:{marginTop:"24px",padding:"16px",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"8px",fontSize:"12px",lineHeight:"1.4",opacity:.8},children:["\uD83D\uDD12 ",(0,o.jsx)("strong",{children:"Privacy:"})," Your API key is stored locally on your device and never sent to our servers. All AI requests go directly from your computer to your chosen provider."]})]})}},5640:function(e,t,i){i.d(t,{Z:function(){return d}});var o=i(4246),r=i(7378),n=i(9898),a=i(9700),s=i(5289),l=i(9711);function d(){let[e,t]=(0,r.useState)(.85),[i,d]=(0,r.useState)("gemini"),[p,c]=(0,r.useState)(!1),[x,g]=(0,r.useState)(""),[u,y]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[b,f]=(0,r.useState)(""),[v,j]=(0,r.useState)(!1),[S,w]=(0,r.useState)(!1),[k,A]=(0,r.useState)({dailyUsed:0,dailyLimit:40,totalCalls:0,canMakeCall:!0,nextCallAvailable:0,cacheSize:0,rateLimitMessage:"Ready for API calls"}),[C,z]=(0,r.useState)(""),[D,I]=(0,r.useState)(""),[P,B]=(0,r.useState)([]),[R,F]=(0,r.useState)({provider:"gemini",model:"",endpoint:""});(0,r.useEffect)(()=>{(async()=>{try{let e=await window.electronAPI.getAppOpacity();t(e.opacity);let i=await window.electronAPI.getCurrentProvider();d(i);let o=await window.electronAPI.hasValidApiKey();c(o),o&&g("••••••••••••••••");try{let e=await window.electronAPI.getProviderConfig();F({provider:e.provider,model:e.model||"",endpoint:e.endpoint||""}),z(e.model||""),I(e.endpoint||"");let t=await window.electronAPI.getAvailableModels(e.provider);B(t)}catch(e){console.error("Failed to load provider config:",e)}try{let e=await window.electronAPI.getApiUsage();A(e)}catch(e){console.error("Failed to load API usage:",e)}}catch(e){console.error("Failed to load settings:",e)}})();let e=setInterval(async()=>{try{let e=await window.electronAPI.getApiUsage();A(e)}catch(e){console.error("Failed to refresh API usage:",e)}},3e4);return()=>clearInterval(e)},[]);let T=async e=>{t(e);try{await window.electronAPI.setAppOpacity(e)}catch(e){console.error("Failed to update opacity:",e)}},W=async()=>{if(!x.trim()||x.includes("•")){f("Please enter a valid API key");return}m(!0),f("");try{let e={};"openrouter"===i&&C&&(e.model=C),"custom"===i&&(e.model=C,e.endpoint=D),await window.electronAPI.setApiKey(i,x,e),c(!0),y(!1),f("✅ API key updated successfully!");let t=await window.electronAPI.getProviderConfig();F({provider:t.provider,model:t.model||"",endpoint:t.endpoint||""}),setTimeout(()=>f(""),3e3)}catch(e){console.error("Failed to update API key:",e),f("❌ Failed to update API key")}finally{m(!1)}},E=async e=>{d(e);try{let t=await window.electronAPI.getAvailableModels(e);B(t),z(t[0]||"")}catch(e){console.error("Failed to load models for provider:",e),B([])}g(""),c(!1),I(""),y(!0)},M=async()=>{try{let e=await window.electronAPI.getClipboard();alert('Current clipboard: "'.concat(e,'"\n\nNow try pressing Cmd+Shift+C to test manual detection.'))}catch(e){alert("Failed to read clipboard: "+e)}};return(0,o.jsxs)("div",{style:{padding:"24px",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,o.jsx)("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"24px"},children:"⚙️ Settings"}),(0,o.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,o.jsx)("h3",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"12px",opacity:.9},children:"App Transparency"}),(0,o.jsx)("div",{style:{marginBottom:"12px"},children:(0,o.jsx)("input",{type:"range",min:"0.2",max:"1",step:"0.05",value:e,onChange:e=>T(parseFloat(e.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:"rgba(255, 255, 255, 0.2)",outline:"none",cursor:"pointer"}})}),(0,o.jsxs)("div",{style:{fontSize:"12px",opacity:.7,textAlign:"center"},children:[Math.round(100*e),"% opacity"]})]}),(0,o.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,o.jsxs)("h3",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"12px",opacity:.9,display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)(n.Z,{size:14}),"API Key Management"]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"12px",marginBottom:"16px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,o.jsx)("div",{style:{fontSize:"12px",fontWeight:"500",marginBottom:"8px",opacity:.9},children:"Daily API Usage"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,o.jsxs)("span",{style:{fontSize:"12px",opacity:.7},children:["Calls Today: ",k.dailyUsed,"/",k.dailyLimit]}),(0,o.jsx)("span",{style:{fontSize:"12px",color:k.canMakeCall?"#4ade80":"#f87171"},children:k.canMakeCall?"Ready":"Rate Limited"})]}),(0,o.jsx)("div",{style:{width:"100%",height:"4px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:(0,o.jsx)("div",{style:{width:"".concat(Math.min(100,k.dailyUsed/k.dailyLimit*100),"%"),height:"100%",background:k.canMakeCall?"#4ade80":"#f87171",transition:"width 0.3s ease"}})}),!k.canMakeCall&&k.nextCallAvailable>0&&(0,o.jsxs)("div",{style:{fontSize:"11px",opacity:.6,marginTop:"6px",textAlign:"center"},children:["Next call available in ",k.nextCallAvailable,"s"]}),(0,o.jsxs)("div",{style:{fontSize:"11px",opacity:.5,marginTop:"6px",textAlign:"center"},children:["Cache: ",k.cacheSize," responses • Total: ",k.totalCalls," calls"]})]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"16px",marginBottom:"16px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,o.jsx)("div",{style:{fontSize:"12px",fontWeight:"500",marginBottom:"12px",opacity:.9},children:"AI Provider"}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",marginBottom:"12px"},children:["gemini","openrouter","openai","anthropic","custom"].map(e=>(0,o.jsx)("button",{onClick:()=>E(e),style:{background:i===e?"rgba(59, 130, 246, 0.3)":"rgba(255, 255, 255, 0.1)",border:i===e?"1px solid #3b82f6":"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"8px",fontSize:"11px",color:"#fff",cursor:"pointer",textTransform:"capitalize",transition:"all 0.2s ease"},children:"openrouter"===e?"OpenRouter":e},e))}),("openrouter"===i||"custom"===i)&&(0,o.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,o.jsx)("div",{style:{fontSize:"11px",opacity:.7,marginBottom:"4px"},children:"Model:"}),"openrouter"===i?(0,o.jsx)("select",{value:C,onChange:e=>z(e.target.value),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",padding:"6px",fontSize:"11px",color:"#fff"},children:P.map(e=>(0,o.jsx)("option",{value:e,style:{background:"#1f2937",color:"#fff"},children:e},e))}):(0,o.jsx)("input",{type:"text",value:C,onChange:e=>z(e.target.value),placeholder:"e.g., gpt-4o, claude-3.5-sonnet",style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",padding:"6px",fontSize:"11px",color:"#fff"}})]}),"custom"===i&&(0,o.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,o.jsx)("div",{style:{fontSize:"11px",opacity:.7,marginBottom:"4px"},children:"API Endpoint:"}),(0,o.jsx)("input",{type:"text",value:D,onChange:e=>I(e.target.value),placeholder:"https://api.example.com/v1",style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",padding:"6px",fontSize:"11px",color:"#fff"}})]}),(0,o.jsxs)("div",{style:{fontSize:"10px",opacity:.6,textAlign:"center"},children:["openrouter"===i&&"Free Horizon Alpha model available","gemini"===i&&"Free tier: 50 requests/day","openai"===i&&"Pay-per-use pricing","anthropic"===i&&"Pay-per-use pricing","custom"===i&&"Configure your own endpoint"]})]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,o.jsxs)("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"8px"},children:["Current provider: ",(0,o.jsx)("strong",{style:{textTransform:"capitalize"},children:i})]}),(0,o.jsxs)("div",{style:{fontSize:"14px",fontWeight:"500",color:p?"#10b981":"#ef4444",marginBottom:"12px"},children:["Status: ",p?"✅ API Key Configured":"❌ No API Key Set"]}),p&&(0,o.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,o.jsx)("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"4px"},children:"Current API Key:"}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,o.jsx)("span",{style:{fontFamily:"monospace",fontSize:"12px",background:"rgba(255, 255, 255, 0.1)",padding:"4px 8px",borderRadius:"4px",flex:1},children:x||"••••••••••••••••"}),(0,o.jsx)("button",{onClick:()=>y(!u),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"4px",padding:"4px 8px",color:"white",fontSize:"12px",cursor:"pointer"},children:u?"Cancel":"Update"})]})]}),(u||!p)&&(0,o.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,o.jsx)("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"4px"},children:p?"Enter new API key:":"Enter your Gemini API key:"}),(0,o.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,o.jsx)("input",{type:v?"text":"password",value:x,onChange:e=>{g(e.target.value),f("")},placeholder:"AIzaSy...",style:{flex:1,padding:"8px 12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",color:"white",fontSize:"12px",outline:"none"}}),(0,o.jsx)("button",{onClick:()=>{v?g("•".repeat(Math.max(0,x.length-4))+x.slice(-4)):g(""),j(!v)},style:{background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"4px",padding:"8px 10px",color:"white",fontSize:"12px",cursor:"pointer"},children:v?"\uD83D\uDC41️":"\uD83D\uDC41️‍\uD83D\uDDE8️"}),(0,o.jsx)("button",{onClick:W,disabled:h,style:{background:h?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.9)",color:h?"rgba(255, 255, 255, 0.5)":"black",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"12px",fontWeight:"500",cursor:h?"not-allowed":"pointer"},children:h?"Saving...":"Save"})]}),(0,o.jsx)("div",{style:{fontSize:"10px",opacity:.6,marginTop:"4px"},children:"Get your API key from: https://aistudio.google.com/app/apikey"})]}),b&&(0,o.jsx)("div",{style:{padding:"8px 12px",borderRadius:"6px",fontSize:"12px",marginTop:"8px",background:b.includes("✅")?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)",border:b.includes("✅")?"1px solid rgba(16, 185, 129, 0.4)":"1px solid rgba(239, 68, 68, 0.4)",color:b.includes("✅")?"#6ee7b7":"#fca5a5"},children:b}),!p&&(0,o.jsx)("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"6px",fontSize:"12px",color:"#fca5a5"},children:"⚠️ API key required for all analysis features to work"})]}),(0,o.jsxs)("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"6px",fontSize:"11px",color:"#93c5fd"},children:[(0,o.jsx)("div",{style:{fontWeight:"500",marginBottom:"4px"},children:"\uD83D\uDCA1 When to update your API key:"}),(0,o.jsxs)("div",{style:{opacity:.8,lineHeight:"1.4"},children:['• When you see "API quota exceeded" errors',(0,o.jsx)("br",{}),"• When responses stop working suddenly",(0,o.jsx)("br",{}),"• When switching to a different Google account",(0,o.jsx)("br",{}),"• For better rate limits or billing management"]})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,o.jsxs)("h3",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"12px",opacity:.9,display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)(a.Z,{size:14}),"Keyboard Shortcuts"]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"16px",fontSize:"12px",lineHeight:"1.6"},children:[(0,o.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,o.jsx)("strong",{children:"Cmd/Ctrl + Shift + O"})," - Show/Hide overlay"]}),(0,o.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,o.jsx)("strong",{children:"Cmd/Ctrl + Shift + C"})," - Force check clipboard & get replies"]}),(0,o.jsx)("div",{style:{opacity:.8},children:"\uD83D\uDCA1 Auto-detection: Copy any message to clipboard for smart replies"}),(0,o.jsx)("div",{style:{opacity:.8,marginTop:"4px"},children:"\uD83D\uDD27 Manual trigger: Use Cmd+Shift+C if auto-detection isn't working"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,o.jsxs)("h3",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"12px",opacity:.9,display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)(s.Z,{size:14}),"Troubleshooting"]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"16px",fontSize:"12px",lineHeight:"1.6"},children:[(0,o.jsx)("div",{style:{marginBottom:"12px",opacity:.8},children:"If clipboard detection isn't working reliably:"}),(0,o.jsx)("button",{onClick:M,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",padding:"8px 12px",color:"white",fontSize:"12px",cursor:"pointer",marginBottom:"8px",marginRight:"8px"},children:"\uD83E\uDDEA Test Clipboard Access"}),(0,o.jsxs)("div",{style:{opacity:.7,fontSize:"11px"},children:[(0,o.jsx)("div",{children:"• Clipboard monitor checks every 500ms"}),(0,o.jsx)("div",{children:"• Filters out URLs, emails, and phone numbers"}),(0,o.jsx)("div",{children:"• Use manual trigger (Cmd+Shift+C) for immediate response"}),(0,o.jsx)("div",{children:"• Check console logs if issues persist"})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"12px",opacity:.9,display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)(l.Z,{size:14}),"About"]}),(0,o.jsxs)("div",{style:{fontSize:"12px",opacity:.7,lineHeight:"1.5"},children:[(0,o.jsx)("div",{children:"Smart Dating Assistant v1.0"}),(0,o.jsx)("div",{children:"Your privacy-focused dating conversation helper"}),(0,o.jsx)("div",{style:{marginTop:"8px"},children:"All data stays on your device. API requests go directly to your chosen provider."})]})]})]})}},6325:function(e,t,i){i.d(t,{Z:function(){return n}});var o=i(4246),r=i(7378);function n(){let[e,t]=(0,r.useState)(null),[i,n]=(0,r.useState)(null),[a,s]=(0,r.useState)(!1),[l,d]=(0,r.useState)("casual"),[p,c]=(0,r.useState)(""),[x,g]=(0,r.useState)("auto");(0,r.useEffect)(()=>(window.electronAPI&&"function"==typeof window.electronAPI.onMessageDetected?window.electronAPI.onMessageDetected(e=>{"auto"===x&&(t(e),u(e.message))}):console.warn("onMessageDetected not available in electronAPI"),()=>{}),[l,x]);let u=async e=>{s(!0);try{let t=await window.electronAPI.generateSmartReplies({message:e,tone:l,context:"Dating app conversation"});t.success?n(t):console.error("Failed to generate replies:",t.error)}catch(e){console.error("Error generating smart replies:",e)}s(!1)},y=async()=>{let e=p.trim();if(!e||e.length<3)return;let i={message:e.length>500?e.substring(0,500):e,timestamp:Date.now()};t(i),await u(i.message),c("")},h=e=>{g(e),"auto"===e&&c(""),t(null),n(null)},m=async e=>{try{await navigator.clipboard.writeText(e);let t=document.activeElement;if(t){let e=t.textContent;t.textContent="✓ Copied!",setTimeout(()=>{t.textContent=e},1500)}}catch(e){console.error("Failed to copy to clipboard:",e)}};return e?(0,o.jsxs)("div",{style:{padding:"20px",color:"#ffffff"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",fontFamily:"inherit",marginBottom:"4px"},children:"Smart Reply Suggestions"}),(0,o.jsx)("div",{style:{fontSize:"11px",opacity:.6,color:"rgba(255, 255, 255, 0.7)"},children:"manual"===x?"✏️ Manual input":"\uD83D\uDCCB Auto-detected"})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,o.jsx)("button",{onClick:()=>{t(null),n(null),c("")},style:{background:"rgba(59, 130, 246, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",borderRadius:"4px",padding:"6px 12px",fontSize:"12px",cursor:"pointer",fontFamily:"inherit"},children:"✨ New Message"}),(0,o.jsx)("button",{onClick:()=>{t(null),n(null)},style:{background:"transparent",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",borderRadius:"4px",padding:"6px 12px",fontSize:"12px",cursor:"pointer",fontFamily:"inherit"},children:"✕ Close"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("div",{style:{fontSize:"12px",opacity:.7,marginBottom:"8px",fontWeight:"500"},children:"THEIR MESSAGE:"}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"12px",fontSize:"14px",lineHeight:"1.4",border:"1px solid rgba(255, 255, 255, 0.2)"},children:['"',e.message,'"']})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("div",{style:{fontSize:"12px",opacity:.7,marginBottom:"8px",fontWeight:"500"},children:"REPLY TONE:"}),(0,o.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["casual","fun","romantic","witty"].map(t=>(0,o.jsx)("button",{onClick:()=>{d(t),u(e.message)},style:{background:l===t?"rgba(255, 255, 255, 0.2)":"transparent",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",borderRadius:"16px",padding:"6px 12px",fontSize:"11px",cursor:"pointer",textTransform:"capitalize",fontFamily:"inherit"},children:t},t))})]}),a&&(0,o.jsx)("div",{style:{textAlign:"center",padding:"20px",fontSize:"14px",opacity:.8},children:"Generating smart replies..."}),i&&!a&&(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"12px",opacity:.7,marginBottom:"12px",fontWeight:"500"},children:"SUGGESTED REPLIES:"}),i.fallback&&(0,o.jsxs)("div",{style:{background:"rgba(255, 165, 0, 0.2)",border:"1px solid rgba(255, 165, 0, 0.4)",borderRadius:"6px",padding:"8px",marginBottom:"12px",fontSize:"11px",color:"#ffcc80"},children:["\uD83D\uDCA1 ",i.note||"Using smart fallback suggestions"]}),i.replies.map((e,t)=>(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.08)",borderRadius:"8px",padding:"14px",marginBottom:"12px",border:"1px solid rgba(255, 255, 255, 0.15)",transition:"all 0.2s ease"},children:[(0,o.jsxs)("div",{style:{fontSize:"14px",marginBottom:"8px",lineHeight:"1.4"},children:['"',e.text,'"']}),(0,o.jsx)("div",{style:{fontSize:"11px",opacity:.6,marginBottom:"10px",fontStyle:"italic"},children:e.reason}),(0,o.jsx)("button",{onClick:()=>m(e.text),style:{background:"rgba(255, 255, 255, 0.15)",border:"none",color:"white",borderRadius:"4px",padding:"6px 12px",fontSize:"11px",cursor:"pointer",fontFamily:"inherit",transition:"background 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.25)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.15)"},children:"\uD83D\uDCCB Copy Reply"})]},t)),i.tips&&i.tips.length>0&&(0,o.jsxs)("div",{style:{marginTop:"20px"},children:[(0,o.jsx)("div",{style:{fontSize:"12px",opacity:.7,marginBottom:"8px",fontWeight:"500"},children:"\uD83D\uDCA1 CONVERSATION TIPS:"}),(0,o.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.08)",borderRadius:"8px",padding:"12px",fontSize:"12px",lineHeight:"1.4"},children:i.tips.map((e,t)=>(0,o.jsxs)("div",{style:{marginBottom:"4px"},children:["• ",e]},t))})]})]})]}):(0,o.jsxs)("div",{style:{padding:"24px",textAlign:"center",color:"#ffffff"},children:[(0,o.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px",fontFamily:"inherit"},children:"\uD83D\uDCAC Smart Reply Assistant"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px",gap:"8px"},children:[(0,o.jsx)("button",{onClick:()=>h("auto"),style:{background:"auto"===x?"rgba(255, 255, 255, 0.25)":"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",borderRadius:"6px",padding:"8px 16px",fontSize:"12px",cursor:"pointer",fontFamily:"inherit",fontWeight:"auto"===x?"600":"400"},children:"\uD83D\uDCCB Auto Clipboard"}),(0,o.jsx)("button",{onClick:()=>h("manual"),style:{background:"manual"===x?"rgba(255, 255, 255, 0.25)":"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",borderRadius:"6px",padding:"8px 16px",fontSize:"12px",cursor:"pointer",fontFamily:"inherit",fontWeight:"manual"===x?"600":"400"},children:"✏️ Manual Input"})]}),"auto"===x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{fontSize:"14px",opacity:.8,lineHeight:"1.5",marginBottom:"20px"},children:"Copy a message from any dating app to get smart reply suggestions!"}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px",fontSize:"13px",lineHeight:"1.4",marginBottom:"20px"},children:[(0,o.jsx)("div",{style:{fontWeight:"500",marginBottom:"8px"},children:"Auto-detection mode:"}),(0,o.jsx)("div",{children:"1. Copy any message from Tinder, Bumble, Hinge, etc."}),(0,o.jsx)("div",{children:"2. Get 3 personalized reply suggestions instantly"}),(0,o.jsx)("div",{children:"3. Click to copy the perfect response"}),(0,o.jsxs)("div",{style:{marginTop:"8px",opacity:.7},children:["Or use ",(0,o.jsx)("kbd",{style:{background:"rgba(0,0,0,0.3)",padding:"2px 4px",borderRadius:"3px"},children:"Cmd+Shift+C"})," for manual detection"]})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{fontSize:"14px",opacity:.8,lineHeight:"1.5",marginBottom:"20px"},children:"Paste a message below to get personalized reply suggestions"}),(0,o.jsxs)("div",{style:{marginBottom:"16px",textAlign:"left"},children:[(0,o.jsx)("textarea",{value:p,onChange:e=>{let t=e.target.value;t.length<=500&&c(t)},placeholder:"Paste the message you received here...",style:{width:"100%",minHeight:"80px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",padding:"12px",color:"white",fontSize:"14px",fontFamily:"inherit",resize:"vertical",outline:"none",transition:"border-color 0.2s"},onKeyDown:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),y())},onFocus:e=>{e.target.style.borderColor="rgba(59, 130, 246, 0.6)"},onBlur:e=>{e.target.style.borderColor="rgba(255, 255, 255, 0.3)"}}),(0,o.jsxs)("div",{style:{fontSize:"11px",opacity:.6,marginTop:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsxs)("span",{children:[p.length,"/500 characters"]}),(0,o.jsx)("span",{children:"Press ⌘+Enter to analyze"})]})]}),(0,o.jsx)("button",{onClick:y,disabled:!p.trim()||p.trim().length<3||a,style:{background:p.trim()&&p.trim().length>=3?"rgba(59, 130, 246, 0.8)":"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",borderRadius:"6px",padding:"10px 20px",fontSize:"14px",cursor:p.trim()&&p.trim().length>=3?"pointer":"not-allowed",fontFamily:"inherit",fontWeight:"500",opacity:p.trim()&&p.trim().length>=3?1:.5},children:a?"\uD83D\uDD04 Analyzing...":"✨ Get Smart Replies"})]}),(0,o.jsx)("div",{style:{marginTop:"20px"},children:(0,o.jsxs)("button",{onClick:()=>{let e="Hey! How's your weekend going? I'm thinking of checking out that new coffee place downtown.";"manual"===x?c(e):t({message:e,timestamp:Date.now()})},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.7)",borderRadius:"4px",padding:"6px 12px",fontSize:"11px",cursor:"pointer",fontFamily:"inherit"},children:["\uD83E\uDDEA ","manual"===x?"Fill with sample":"Test with sample"]})})]})}}}]);